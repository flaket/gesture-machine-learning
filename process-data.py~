import serial
import csv
import numpy as np
from sklearn import preprocessing

ser = serial.Serial('/dev/ttyUSB0', 9600, timeout=2)

data = []
for i in range(1,3):
	total = []
	try:
		print("Listening for swipe for 2 seconds..")
		for line in ser:
			line = line.decode()
			line = line.split(' ')
			del line[-1]
			values = list(map(int, line))
			total = total + values
		print(total)
		# prep total so theres enough data and not too much data
		#if (len(total) < 31):
		#print("no swipe / swipe too fast (no data / too little data)")
		#else:
		n, bins = np.histogram(total, bins=32, density=True)
		data.append(n)
		print("Saved data sample: " + str(i))
	except serial.SerialException:
		print('caught serial-exception')

#with open('right.csv', 'w', newline='') as fp:
#    a = csv.writer(fp, delimiter=',')
#    a.writerows(data)

#print(data)
#n, bins = np.histogram(data, bins=32, density=True)
print(data)

